{"ast":null,"code":"var _jsxFileName = \"D:\\\\work\\\\test-assignment\\\\client\\\\src\\\\components\\\\orders\\\\orderCard\\\\OrderCard.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { openConfirmPopup, setOrderIdForDeletion, setPopupTitle, setDeletionCommand } from '../../../features/ConfirmPopupSlice';\nimport { toggleOrdersDetails } from '../../../features/MainSlice';\nimport { formatDateOption1, formatDateOption2 } from '../../../utils/DateHelpers';\nimport { ReactComponent as BinIcon } from '../../../img/bin.svg';\nimport { ReactComponent as ListIcon } from '../../../img/list.svg';\nimport { ReactComponent as ArrowIcon } from '../../../img/chevron.svg';\nimport './OrderCard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderCard = ({\n  orderId\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const isOrderDetailsToggle = useSelector(state => state.datastore.isOrderDetailsToggle);\n  const order = useSelector(state => state.datastore.order.find(order => order.id === orderId));\n  const toggleOrderId = useSelector(state => state.datastore.toggleOrderId);\n  if (!order) {\n    return null;\n  } else {\n    const total = order === null || order === void 0 ? void 0 : order.products.reduce((prev, product) => {\n      product.price.forEach(price => {\n        prev[price.symbol] = (prev[price.symbol] || 0) + price.value;\n      });\n      return prev;\n    }, {});\n    const dateOption1 = formatDateOption1(order.date);\n    const dateOption2 = formatDateOption2(order.date);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `order-card ${isOrderDetailsToggle ? 'collapsed' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-card-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"order-card-title\",\n          children: order === null || order === void 0 ? void 0 : order.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"order-card-open-list-button\",\n          onClick: () => {\n            dispatch(toggleOrdersDetails(order === null || order === void 0 ? void 0 : order.id));\n          },\n          children: /*#__PURE__*/_jsxDEV(ListIcon, {\n            className: \"order-card-open-list-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-card-products-num\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: order.products.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-card-date\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: dateOption1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: dateOption2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-card-value\",\n          children: Object.entries(total).map(([symbol, value]) => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [symbol, \":\", ' ', value]\n          }, symbol, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"order-card-delete-button\",\n          onClick: () => {\n            dispatch(openConfirmPopup());\n            dispatch(setPopupTitle(order.title));\n            dispatch(setOrderIdForDeletion(order.id));\n            dispatch(setDeletionCommand('order'));\n          },\n          children: /*#__PURE__*/_jsxDEV(BinIcon, {\n            className: \"order-card-delete-Icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this), isOrderDetailsToggle && toggleOrderId === order.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-card-arrow-container\",\n        children: /*#__PURE__*/_jsxDEV(ArrowIcon, {\n          className: \"order-card-arrow-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 105\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 61\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-card-empty-container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 161\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this);\n  }\n};\n_s(OrderCard, \"rJd3YKQDNo2iQOAeyadO4saiKeo=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = OrderCard;\nexport default OrderCard;\nvar _c;\n$RefreshReg$(_c, \"OrderCard\");","map":{"version":3,"names":["React","useSelector","useDispatch","openConfirmPopup","setOrderIdForDeletion","setPopupTitle","setDeletionCommand","toggleOrdersDetails","formatDateOption1","formatDateOption2","ReactComponent","BinIcon","ListIcon","ArrowIcon","jsxDEV","_jsxDEV","OrderCard","orderId","_s","dispatch","isOrderDetailsToggle","state","datastore","order","find","id","toggleOrderId","total","products","reduce","prev","product","price","forEach","symbol","value","dateOption1","date","dateOption2","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","Object","entries","map","_c","$RefreshReg$"],"sources":["D:/work/test-assignment/client/src/components/orders/orderCard/OrderCard.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState } from '../../../app/Store';\r\nimport {\r\n  openConfirmPopup, setOrderIdForDeletion, setPopupTitle, setDeletionCommand,\r\n} from '../../../features/ConfirmPopupSlice';\r\nimport { toggleOrdersDetails } from '../../../features/MainSlice';\r\nimport { OrderCardProps } from '../../../types/Types';\r\nimport { formatDateOption1, formatDateOption2 } from '../../../utils/DateHelpers';\r\n\r\nimport { ReactComponent as BinIcon } from '../../../img/bin.svg';\r\nimport { ReactComponent as ListIcon } from '../../../img/list.svg';\r\nimport { ReactComponent as ArrowIcon } from '../../../img/chevron.svg';\r\nimport './OrderCard.css';\r\n\r\nconst OrderCard: React.FC<OrderCardProps> = ({\r\n  orderId,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const isOrderDetailsToggle = useSelector((state: RootState) => state.datastore.isOrderDetailsToggle);\r\n  const order = useSelector((state: RootState) => state.datastore.order.find(order => order.id === orderId));\r\n  const toggleOrderId = useSelector((state: RootState) => state.datastore.toggleOrderId);\r\n\r\n  if(!order){return null} else {\r\n  const total = order?.products.reduce((prev, product) => {\r\n    product.price.forEach((price) => {\r\n      prev[price.symbol] = (prev[price.symbol] || 0) + price.value;\r\n    });\r\n    return prev;\r\n  }, {} as Record<string, number>);\r\n  \r\n  const dateOption1 = formatDateOption1(order.date);\r\n  const dateOption2 = formatDateOption2(order.date);\r\n  \r\n  return (\r\n    <div className={`order-card ${isOrderDetailsToggle ? 'collapsed' : ''}`}>\r\n      <div className=\"order-card-info\">\r\n        <h3 className=\"order-card-title\">{order?.title}</h3>\r\n        <button\r\n          className=\"order-card-open-list-button\"\r\n          onClick={() => {\r\n            dispatch(toggleOrdersDetails(order?.id));\r\n          }}\r\n        >\r\n          <ListIcon className=\"order-card-open-list-icon\" />\r\n        </button>\r\n        <div className=\"order-card-products-num\">\r\n          <p>{order.products.length}</p>\r\n          <p>продукта</p>\r\n        </div>\r\n        <div className=\"order-card-date\">\r\n          <p>{dateOption1}</p>\r\n          <p>{dateOption2}</p>\r\n        </div>\r\n        <div className=\"order-card-value\">\r\n          {Object.entries(total).map(([symbol, value]) => (\r\n            <p key={symbol}>\r\n              {symbol}\r\n              :\r\n              {' '}\r\n              {value}\r\n            </p>\r\n          ))}\r\n        </div>\r\n        <button\r\n          className=\"order-card-delete-button\"\r\n          onClick={() => {\r\n            dispatch(openConfirmPopup());\r\n            dispatch(setPopupTitle(order.title));\r\n            dispatch(setOrderIdForDeletion(order.id));\r\n            dispatch(setDeletionCommand('order'));\r\n          }}\r\n        >\r\n          <BinIcon className=\"order-card-delete-Icon\" />\r\n        </button>\r\n      </div>\r\n      {isOrderDetailsToggle && toggleOrderId === order.id ? <div className=\"order-card-arrow-container\"><ArrowIcon className=\"order-card-arrow-icon\" /></div> : <div className=\"order-card-empty-container\" />}\r\n    </div>\r\n  );\r\n  }\r\n  \r\n};\r\n\r\nexport default OrderCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}