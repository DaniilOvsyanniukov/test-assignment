{"ast":null,"code":"var _jsxFileName = \"D:\\\\work\\\\test-assignment\\\\client\\\\src\\\\components\\\\popups\\\\DeleteConfirmationPopup\\\\DeleteConfirmationPopup.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport { closeConfirmPopup } from '../../../features/ConfirmPopupSlice';\nimport { deleteStoreOrder, deleteStoreProduct, deleteProductFromOrder } from '../../../features/MainSlice';\nimport './DeleteConfirmationPopup.css';\nimport { ReactComponent as CloseIcon } from '../../../img/cross.svg';\nimport { ReactComponent as BinIcon } from '../../../img/bin.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeleteConfirmationPopup = () => {\n  _s();\n  const dispatch = useDispatch();\n  const OrderId = useSelector(state => state.confirmPopup.orderId);\n  const ProductId = useSelector(state => state.confirmPopup.productId);\n  const deletionCommand = useSelector(state => state.confirmPopup.deletionCommand);\n  const title = useSelector(state => state.confirmPopup.title);\n  const deleteOrder = async () => {\n    try {\n      const response = await axios.delete(process.env.REACT_APP_SERVER_URL + `/api/orders/${OrderId}`);\n      if (response.status === 200) {\n        dispatch(deleteStoreOrder(OrderId));\n        console.log('Order successfully deleted');\n      } else {\n        console.error('Error occurred while deleting the order');\n      }\n    } catch (error) {\n      console.error(error);\n    }\n    dispatch(closeConfirmPopup());\n  };\n  const deleteProduct = async () => {\n    try {\n      const response = await axios.delete(process.env.REACT_APP_SERVER_URL + `/api/products/${ProductId}`);\n      if (response.status === 200) {\n        dispatch(deleteStoreProduct(ProductId));\n        console.log('Product successfully deleted');\n      } else {\n        console.error('Error occurred while deleting the product');\n      }\n    } catch (error) {\n      console.error(error);\n    }\n    dispatch(closeConfirmPopup());\n  };\n  const deleteProductInOrder = async () => {\n    try {\n      const response = await axios.delete(process.env.REACT_APP_SERVER_URL + `/api/${OrderId}/products/${ProductId}`);\n      if (response.status === 200) {\n        dispatch(deleteProductFromOrder({\n          orderId: OrderId,\n          productId: ProductId\n        }));\n        console.log('Product successfully deleted');\n      } else {\n        console.error('Error occurred while deleting the product');\n      }\n    } catch (error) {\n      console.error(error);\n    }\n    dispatch(closeConfirmPopup());\n  };\n  const handleDelete = () => {\n    switch (deletionCommand) {\n      case 'order':\n        deleteOrder();\n        break;\n      case 'product':\n        deleteProduct();\n        break;\n      case 'productInOrder':\n        if (OrderId && ProductId) {\n          deleteProductInOrder();\n        } else {\n          console.error('Both orderId and productId are required for deleting product in order');\n        }\n        break;\n      default:\n        console.error('Invalid deletion command');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup-overlay\",\n    onClick: () => dispatch(closeConfirmPopup()),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"delete-confirmation-popup\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"popup-close-button\",\n        onClick: () => dispatch(closeConfirmPopup()),\n        children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n          className: \"popup-close-button-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-confirmation-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"delete-confirmation-message\",\n          children: \"\\u0412\\u044B \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u044D\\u0442\\u043E\\u0442 \\u043F\\u0440\\u0438\\u0445\\u043E\\u0434?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"delete-confirmation-title\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popup-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel-button\",\n          onClick: () => dispatch(closeConfirmPopup()),\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-button\",\n          onClick: handleDelete,\n          children: [/*#__PURE__*/_jsxDEV(BinIcon, {\n            className: \"delete-button-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n_s(DeleteConfirmationPopup, \"/EUQK6T8xHgRiQ9A245/QykZVF4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c = DeleteConfirmationPopup;\nexport default DeleteConfirmationPopup;\nvar _c;\n$RefreshReg$(_c, \"DeleteConfirmationPopup\");","map":{"version":3,"names":["React","useSelector","useDispatch","axios","closeConfirmPopup","deleteStoreOrder","deleteStoreProduct","deleteProductFromOrder","ReactComponent","CloseIcon","BinIcon","jsxDEV","_jsxDEV","DeleteConfirmationPopup","_s","dispatch","OrderId","state","confirmPopup","orderId","ProductId","productId","deletionCommand","title","deleteOrder","response","delete","process","env","REACT_APP_SERVER_URL","status","console","log","error","deleteProduct","deleteProductInOrder","handleDelete","className","onClick","children","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/work/test-assignment/client/src/components/popups/DeleteConfirmationPopup/DeleteConfirmationPopup.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { RootState } from '../../../app/Store';\r\nimport axios from 'axios';\r\nimport { closeConfirmPopup } from '../../../features/ConfirmPopupSlice';\r\nimport { deleteStoreOrder, deleteStoreProduct, deleteProductFromOrder } from '../../../features/MainSlice';\r\n\r\n\r\nimport './DeleteConfirmationPopup.css';\r\nimport { ReactComponent as CloseIcon } from '../../../img/cross.svg';\r\nimport { ReactComponent as BinIcon } from '../../../img/bin.svg';\r\n\r\nconst DeleteConfirmationPopup: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const OrderId = useSelector((state: RootState) => state.confirmPopup.orderId);\r\n  const ProductId = useSelector((state: RootState) => state.confirmPopup.productId);\r\n  const deletionCommand = useSelector((state: RootState) => state.confirmPopup.deletionCommand);\r\n  const title = useSelector((state: RootState) => state.confirmPopup.title);\r\n\r\n  const deleteOrder = async () => {\r\n    try {\r\n      const response = await axios.delete(process.env.REACT_APP_SERVER_URL + `/api/orders/${OrderId}`);\r\n      if (response.status === 200) {\r\n        dispatch(deleteStoreOrder(OrderId));\r\n        console.log('Order successfully deleted');\r\n      } else {\r\n        console.error('Error occurred while deleting the order');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n    dispatch(closeConfirmPopup());\r\n  };\r\n\r\n  const deleteProduct = async () => {\r\n    try {\r\n      const response = await axios.delete(process.env.REACT_APP_SERVER_URL + `/api/products/${ProductId}`);\r\n      if (response.status === 200) {\r\n        dispatch(deleteStoreProduct(ProductId));\r\n        console.log('Product successfully deleted');\r\n      } else {\r\n        console.error('Error occurred while deleting the product');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n    dispatch(closeConfirmPopup());\r\n  };\r\n\r\n  const deleteProductInOrder = async () => {\r\n    try {\r\n      const response = await axios.delete(process.env.REACT_APP_SERVER_URL + `/api/${OrderId}/products/${ProductId}`);\r\n      if (response.status === 200) {\r\n        dispatch(deleteProductFromOrder({ orderId: OrderId, productId: ProductId }));\r\n        console.log('Product successfully deleted');\r\n      } else {\r\n        console.error('Error occurred while deleting the product');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n    dispatch(closeConfirmPopup());\r\n  };\r\n  const handleDelete = () => {\r\n    switch (deletionCommand) {\r\n      case 'order':\r\n        deleteOrder();\r\n        break;\r\n      case 'product':\r\n        deleteProduct();\r\n        break;\r\n      case 'productInOrder':\r\n        if (OrderId && ProductId) {\r\n          deleteProductInOrder();\r\n        } else {\r\n          console.error('Both orderId and productId are required for deleting product in order');\r\n        }\r\n        break;\r\n      default:\r\n        console.error('Invalid deletion command');\r\n    }\r\n  }\r\n \r\n\r\n  return (\r\n    <div className=\"popup-overlay\" onClick={() => dispatch(closeConfirmPopup())}>\r\n      <div className=\"delete-confirmation-popup\" onClick={(e) => e.stopPropagation()}>\r\n        <button className=\"popup-close-button\" onClick={() => dispatch(closeConfirmPopup())}>\r\n          <CloseIcon className=\"popup-close-button-icon\" />\r\n        </button>\r\n        <div className=\"delete-confirmation-content\">\r\n          <h2 className=\"delete-confirmation-message\">Вы действительно хотите удалить этот приход?</h2>\r\n          <h3 className=\"delete-confirmation-title\">{title}</h3>\r\n        </div>\r\n        <div className=\"popup-buttons\">\r\n          <button className=\"cancel-button\" onClick={() => dispatch(closeConfirmPopup())}>Отменить</button>\r\n          <button className=\"delete-button\" onClick={handleDelete}>\r\n            <BinIcon className=\"delete-button-icon\" />\r\n            Удалить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteConfirmationPopup;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,QAAQ,qCAAqC;AACvE,SAASC,gBAAgB,EAAEC,kBAAkB,EAAEC,sBAAsB,QAAQ,6BAA6B;AAG1G,OAAO,+BAA+B;AACtC,SAASC,cAAc,IAAIC,SAAS,QAAQ,wBAAwB;AACpE,SAASD,cAAc,IAAIE,OAAO,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjE,MAAMC,uBAAiC,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9C,MAAMC,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC9B,MAAMc,OAAO,GAAGf,WAAW,CAAEgB,KAAgB,IAAKA,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC;EAC7E,MAAMC,SAAS,GAAGnB,WAAW,CAAEgB,KAAgB,IAAKA,KAAK,CAACC,YAAY,CAACG,SAAS,CAAC;EACjF,MAAMC,eAAe,GAAGrB,WAAW,CAAEgB,KAAgB,IAAKA,KAAK,CAACC,YAAY,CAACI,eAAe,CAAC;EAC7F,MAAMC,KAAK,GAAGtB,WAAW,CAAEgB,KAAgB,IAAKA,KAAK,CAACC,YAAY,CAACK,KAAK,CAAC;EAEzE,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,MAAM,CAACC,OAAO,CAACC,GAAG,CAACC,oBAAoB,GAAI,eAAcb,OAAQ,EAAC,CAAC;MAChG,IAAIS,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;QAC3Bf,QAAQ,CAACV,gBAAgB,CAACW,OAAO,CAAC,CAAC;QACnCe,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MAC3C,CAAC,MAAM;QACLD,OAAO,CAACE,KAAK,CAAC,yCAAyC,CAAC;MAC1D;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;IACtB;IACAlB,QAAQ,CAACX,iBAAiB,CAAC,CAAC,CAAC;EAC/B,CAAC;EAED,MAAM8B,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMT,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,MAAM,CAACC,OAAO,CAACC,GAAG,CAACC,oBAAoB,GAAI,iBAAgBT,SAAU,EAAC,CAAC;MACpG,IAAIK,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;QAC3Bf,QAAQ,CAACT,kBAAkB,CAACc,SAAS,CAAC,CAAC;QACvCW,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAC7C,CAAC,MAAM;QACLD,OAAO,CAACE,KAAK,CAAC,2CAA2C,CAAC;MAC5D;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;IACtB;IACAlB,QAAQ,CAACX,iBAAiB,CAAC,CAAC,CAAC;EAC/B,CAAC;EAED,MAAM+B,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI;MACF,MAAMV,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,MAAM,CAACC,OAAO,CAACC,GAAG,CAACC,oBAAoB,GAAI,QAAOb,OAAQ,aAAYI,SAAU,EAAC,CAAC;MAC/G,IAAIK,QAAQ,CAACK,MAAM,KAAK,GAAG,EAAE;QAC3Bf,QAAQ,CAACR,sBAAsB,CAAC;UAAEY,OAAO,EAAEH,OAAO;UAAEK,SAAS,EAAED;QAAU,CAAC,CAAC,CAAC;QAC5EW,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAC7C,CAAC,MAAM;QACLD,OAAO,CAACE,KAAK,CAAC,2CAA2C,CAAC;MAC5D;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;IACtB;IACAlB,QAAQ,CAACX,iBAAiB,CAAC,CAAC,CAAC;EAC/B,CAAC;EACD,MAAMgC,YAAY,GAAGA,CAAA,KAAM;IACzB,QAAQd,eAAe;MACrB,KAAK,OAAO;QACVE,WAAW,CAAC,CAAC;QACb;MACF,KAAK,SAAS;QACZU,aAAa,CAAC,CAAC;QACf;MACF,KAAK,gBAAgB;QACnB,IAAIlB,OAAO,IAAII,SAAS,EAAE;UACxBe,oBAAoB,CAAC,CAAC;QACxB,CAAC,MAAM;UACLJ,OAAO,CAACE,KAAK,CAAC,uEAAuE,CAAC;QACxF;QACA;MACF;QACEF,OAAO,CAACE,KAAK,CAAC,0BAA0B,CAAC;IAC7C;EACF,CAAC;EAGD,oBACErB,OAAA;IAAKyB,SAAS,EAAC,eAAe;IAACC,OAAO,EAAEA,CAAA,KAAMvB,QAAQ,CAACX,iBAAiB,CAAC,CAAC,CAAE;IAAAmC,QAAA,eAC1E3B,OAAA;MAAKyB,SAAS,EAAC,2BAA2B;MAACC,OAAO,EAAGE,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;MAAAF,QAAA,gBAC7E3B,OAAA;QAAQyB,SAAS,EAAC,oBAAoB;QAACC,OAAO,EAAEA,CAAA,KAAMvB,QAAQ,CAACX,iBAAiB,CAAC,CAAC,CAAE;QAAAmC,QAAA,eAClF3B,OAAA,CAACH,SAAS;UAAC4B,SAAS,EAAC;QAAyB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eACTjC,OAAA;QAAKyB,SAAS,EAAC,6BAA6B;QAAAE,QAAA,gBAC1C3B,OAAA;UAAIyB,SAAS,EAAC,6BAA6B;UAAAE,QAAA,EAAC;QAA4C;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC7FjC,OAAA;UAAIyB,SAAS,EAAC,2BAA2B;UAAAE,QAAA,EAAEhB;QAAK;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC,eACNjC,OAAA;QAAKyB,SAAS,EAAC,eAAe;QAAAE,QAAA,gBAC5B3B,OAAA;UAAQyB,SAAS,EAAC,eAAe;UAACC,OAAO,EAAEA,CAAA,KAAMvB,QAAQ,CAACX,iBAAiB,CAAC,CAAC,CAAE;UAAAmC,QAAA,EAAC;QAAQ;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACjGjC,OAAA;UAAQyB,SAAS,EAAC,eAAe;UAACC,OAAO,EAAEF,YAAa;UAAAG,QAAA,gBACtD3B,OAAA,CAACF,OAAO;YAAC2B,SAAS,EAAC;UAAoB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,8CAE5C;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC/B,EAAA,CA5FID,uBAAiC;EAAA,QACpBX,WAAW,EACZD,WAAW,EACTA,WAAW,EACLA,WAAW,EACrBA,WAAW;AAAA;AAAA6C,EAAA,GALrBjC,uBAAiC;AA8FvC,eAAeA,uBAAuB;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}