{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setProduct } from '../features/MainSlice';\nfunction useProducts() {\n  _s();\n  const dispatch = useDispatch();\n  const products = useSelector(state => state.datastore.product);\n  const [filter, setFilter] = useState('');\n  useEffect(() => {\n    fetch('/api/products').then(res => res.json()).then(data => dispatch(setProduct(data)));\n  }, [dispatch]);\n  const filteredProducts = filter ? products.filter(product => product.type === filter) : products;\n  return {\n    products: filteredProducts,\n    filter,\n    setFilter\n  };\n}\n_s(useProducts, \"oRd/eNBfok06QxjBUyYOf8wvMXs=\", false, function () {\n  return [useDispatch, useSelector];\n});\nexport default useProducts;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","setProduct","useProducts","_s","dispatch","products","state","datastore","product","filter","setFilter","fetch","then","res","json","data","filteredProducts","type"],"sources":["D:/work/test-assignment/client/src/hooks/UseProducts.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setProduct } from '../features/MainSlice';\r\nimport { Product } from '../types/Types';\r\nimport { RootState } from '../app/Store';\r\n\r\nfunction useProducts() {\r\n  const dispatch = useDispatch();\r\n  const products: Product[] = useSelector((state: RootState) => state.datastore.product);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('/api/products')\r\n      .then((res) => res.json())\r\n      .then((data) => dispatch(setProduct(data)));\r\n  }, [dispatch]);\r\n\r\n  const filteredProducts = filter ? products.filter((product) => product.type === filter) : products;\r\n\r\n  return {\r\n    products: filteredProducts,\r\n    filter,\r\n    setFilter\r\n  };\r\n}\r\n\r\nexport default useProducts;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU,QAAQ,uBAAuB;AAIlD,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAMM,QAAmB,GAAGL,WAAW,CAAEM,KAAgB,IAAKA,KAAK,CAACC,SAAS,CAACC,OAAO,CAAC;EACtF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAExCC,SAAS,CAAC,MAAM;IACda,KAAK,CAAC,eAAe,CAAC,CACnBC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAKX,QAAQ,CAACH,UAAU,CAACc,IAAI,CAAC,CAAC,CAAC;EAC/C,CAAC,EAAE,CAACX,QAAQ,CAAC,CAAC;EAEd,MAAMY,gBAAgB,GAAGP,MAAM,GAAGJ,QAAQ,CAACI,MAAM,CAAED,OAAO,IAAKA,OAAO,CAACS,IAAI,KAAKR,MAAM,CAAC,GAAGJ,QAAQ;EAElG,OAAO;IACLA,QAAQ,EAAEW,gBAAgB;IAC1BP,MAAM;IACNC;EACF,CAAC;AACH;AAACP,EAAA,CAlBQD,WAAW;EAAA,QACDH,WAAW,EACAC,WAAW;AAAA;AAkBzC,eAAeE,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}